"use strict";var app=angular.module("ngRoRMessages",["ngRoute"]);angular.module("ngRoRMessages").config(["$httpProvider",function(e){e.defaults.useXDomain=!0}]),angular.module("ngRoRMessages").config(["$routeProvider",function(e){e.when("/list",{templateUrl:"/assets/views/listing.html",controller:"listingCtrl"}).when("/create",{templateUrl:"/assets/views/creating.html",controller:"creatingCtrl"}).otherwise({redirectTo:"/list"})}]),angular.module("ngRoRMessages").run(function(){}),angular.module("ngRoRMessages").controller("creatingCtrl",["$scope","messagesService","$location",function(e,s,t){e.sendingMessage=!1,e.sendMessage=function(n){e.sendingMessage=!0,s.send(n,function(e){t.path("/list")})}}]),angular.module("ngRoRMessages").controller("listingCtrl",["$scope","messagesService",function(e,s){e.gettingMessages=!1;var t=function n(){e.gettingMessages||(e.gettingMessages=!0,s.list(function(s){e.gettingMessages=!1,e.messages=s,setTimeout(n,3e3)}))};e.getMessages=t,t()}]),angular.module("ngRoRMessages").factory("messagesService",["$http",function(e){var s={prefix:"http://localhost:3000",sufix:".json"},t=function(t){e({method:"get",url:s.prefix+"/posts"+s.sufix}).success(t)},n=function(t,n){e({method:"post",crossDomain:!0,url:s.prefix+"/posts"+s.sufix,type:"json",params:t}).success(n).error(function(e){})};return{list:t,send:n}}]);